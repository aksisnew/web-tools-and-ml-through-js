<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover" />
<title>Password Crack Estimator</title>

<link href="https://fonts.googleapis.com/css2?family=Merriweather:wght@300;400;700&display=swap" rel="stylesheet">

<style>
  body {
  cursor: none; /* Hide default cursor */
}

.bubble-cursor {
  position: fixed;
  top: 0;
  left: 0;
  width: 36px;
  height: 36px;
  border-radius: 50%;
  background: rgba(255, 180, 180, 0.15);
  border: 1px solid rgba(255, 255, 255, 0.1);
  box-shadow: 0 0 8px rgba(255, 80, 80, 0.3);
  pointer-events: none;
  mix-blend-mode: lighten;
  backdrop-filter: blur(3px);
  z-index: 9999;
  transition: transform 0.2s ease;
  transform: translate(-50%, -50%);
}

  :root{
    --bg-start:#071029;
    --bg-end:#363636;
    --card-bg:linear-gradient(180deg,rgba(255,255,255,0.02),rgba(255,255,255,0.01));
    --muted:#94a3b8;
    --accent:#841203;
    --warm-1: rgba(51, 81, 43, 0.738);
    --warm-2: rgba(221, 22, 11, 0.28);
    --warm-3: rgba(255, 41, 13, 0.34);
  }

  /* Page layout */
  html,body{height:100%;margin:0}
  body{
    font-family: 'Merriweather', serif, system-ui, "Segoe UI", Roboto, Arial;
    min-height:100vh;
    display:flex;
    align-items:center;
    justify-content:center;
    padding:20px;
    color:#a92a2a;
    background: linear-gradient(180deg,var(--bg-start),var(--bg-end));
    position:relative;
    overflow:hidden;
  }

  .cursor-glow{
    position:fixed;
    left:0;
    top:0;
    width:100%;
    height:100%;
    pointer-events:none;
    z-index:0;
    mix-blend-mode:screen;
    background:
      radial-gradient(600px 600px at var(--mx,50%) var(--my,50%),
        rgba(255,120,100,0.18) 0%,
        rgba(220,70,60,0.12) 18%,
        rgba(180,40,32,0.08) 40%,
        transparent 70%),
      radial-gradient(250px 250px at var(--mx,50%) var(--my,50%),
        rgba(255,200,190,0.06) 0%,
        transparent 60%);
    transition:opacity 400ms linear;
    opacity:1;
    will-change:background-position;
  }

  .card{
    position:relative;
    z-index:1; /* above glow */
    max-width:720px;
    width:100%;
    background:var(--card-bg);
    padding:18px;
    border-radius:12px;
    box-shadow:0 10px 30px rgba(2,6,23,0.6);
    backdrop-filter: blur(6px);
  }

  h1{margin:0 0 8px;font-size:1.2rem}
  p.lead{color:var(--muted);font-size:1.03rem;margin:0 0 14px}
  .row{display:flex;gap:8px;flex-wrap:wrap}
  input[type=text]{
    flex:1;padding:10px;border-radius:8px;border:1px solid rgba(255,255,255,0.04);
    background:transparent;color:#e8f1ff;font-size:1rem;
    outline:none;box-sizing:border-box;
  }
  input[type=text]::placeholder{color:rgba(235,245,255,0.45)}
  select,button{
    padding:1.1rem;border-radius:8px;border:none;background:var(--accent);
    color:#071428;font-weight:700;cursor:pointer;
  }
  .output{margin-top:12px}
  .stat{background:rgba(255, 0, 0, 0.05);padding:10px;border-radius:8px;margin-top:8px}
  .mono{ font-family: 'Merriweather', serif; font-size:18px; color:#dbeafe; word-break:break-word}
  .small{font-size:13px;color:var(--muted)}
  .grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(180px,1fr));gap:8px;margin-top:10px}
  .badge{
    padding:12px;border-radius:8px;background:linear-gradient(180deg, rgba(255,255,255,0.01), rgba(0,0,0,0.04));
    border:1px solid rgba(255,255,255,0.02);
  }
  @media (max-width:480px){.row{flex-direction:column}select,button{width:100%}}
</style>
</head>

<body>
  <div class="cursor-glow" aria-hidden="true"></div>

  <div class="card" role="main" aria-labelledby="title">
    <h1 id="title">Password Crack Estimator</h1>
    <p class="lead">Enter a password — I’ll assume someone brute‑forces every combo using <strong>all printable characters</strong> (no space). I’ll show combinations, entropy, and estimated crack time.</p>

    <div class="row">
      <input id="pwdInput" type="text" placeholder="Type or paste password here" aria-label="password input" />
      <button id="calcBtn" type="button">Estimate</button>
    </div>

    <div class="output">
      <div id="summary" class="stat">
        <div class="small">Pool used: <span id="poolSize">—</span> characters (A-Z a-z 0-9 symbols)</div>
        <div class="mono" id="formula">Permutations = pool_size ^ length = —</div>
        <div class="mono" id="entropy">Entropy = — bits</div>
      </div>

      <div class="grid" id="results"></div>

      <div class="stat small" id="notes">Note: This uses full-character-set assumption (attacker doesn't care what characters you actually used). Average guesses ≈ 1/2 of total possibilities. Large numbers shown in scientific notation where appropriate.</div>
    </div>
  </div>
  <div class="bubble-cursor" id="bubbleCursor"></div>


<script>
/* =========================
   Character pools & config
   ========================= */
(function(){
  // Keep constants immutable where possible
  const UPPER = 'ABCDEFGHIJKLMNOPQRSTUVWXYZ';
  const LOWER = 'abcdefghijklmnopqrstuvwxyz';
  const DIGITS = '0123456789';
  // Symbols: exclude space and backtick, include common ASCII symbols
  const SYMBOLS = "!\"#$%&'()*+,-./:;<=>?@[\\]^_{|}~";
  const POOL = UPPER + LOWER + DIGITS + SYMBOLS;
  const POOL_SIZE = POOL.length;

  const ATTACKERS = [
    { label: 'Online (100 req/s)', speed: 100 },
    { label: 'Fast GPU (1e9 req/s)', speed: 1e9 },
    { label: 'Mega GPU Cluster (1e12 req/s)', speed: 1e12 },
    { label: 'ASIC/Specialized (1e15 req/s)', speed: 1e15 },
    { label: 'Human (1 attempt / 10s)', speed: 0.1 }
  ];

  /* =========================
     Math helpers
     ========================= */
  function log10Pow(base, exp){
    return exp * Math.log10(base);
  }

  function formatScientific10(log10val){
    if (!isFinite(log10val)) return '∞';
    const exp = Math.floor(log10val);
    const mant = Math.pow(10, log10val - exp);
    return mant.toFixed(3) + 'e+' + exp;
  }

  function secondsToReadable(sec){
    if (!isFinite(sec)) return '∞';
    const year = 365 * 24 * 3600;
    const years = sec / year;
    if (years < 1){
      const days = Math.floor(sec / 86400);
      if (days > 0) return days + ' days';
      const hours = Math.floor(sec / 3600); if (hours > 0) return hours + ' hours';
      const mins = Math.floor(sec / 60); if (mins > 0) return mins + ' minutes';
      return Math.floor(sec) + ' seconds';
    }
    if (years < 1e6) return years.toLocaleString(undefined, { maximumFractionDigits: 1 }) + ' years';
    const log10years = Math.log10(years);
    return formatScientific10(log10years) + ' years';
  }

  /* =========================
     Estimation core
     ========================= */
  function estimate(password){
    const len = password.length;
    const pool = POOL_SIZE;

    // log10(permutations) = len * log10(pool)
    const log10Perm = log10Pow(pool, len);

    // average guesses = 0.5 * permutations => log10(avg) = log10Perm + log10(0.5)
    const log10Avg = log10Perm + Math.log10(0.5);

    // bits of entropy = len * log2(pool)
    const entropy = len * Math.log2(pool);

    // compute results for each attacker option
    const results = ATTACKERS.map(function(att){
      const log10TimeSec = log10Avg - Math.log10(att.speed);
      let timeSeconds = null;
      // when the exponent is small enough compute exact value (safe)
      if (log10TimeSec < 15){
        timeSeconds = Math.pow(10, log10TimeSec);
      }
      return {
        label: att.label,
        speed: att.speed,
        log10Perm: log10Perm,
        log10Avg: log10Avg,
        log10TimeSec: log10TimeSec,
        timeSeconds: timeSeconds
      };
    });

    return {
      len: len,
      pool: pool,
      entropy: entropy,
      log10Perm: log10Perm,
      log10Avg: log10Avg,
      results: results
    };
  }

  /* =========================
     Rendering logic
     ========================= */
  function render(password){
    const out = estimate(password || '');
    const poolSizeEl = document.getElementById('poolSize');
    const formulaEl = document.getElementById('formula');
    const entropyEl = document.getElementById('entropy');
    const resultsEl = document.getElementById('results');

    // Basic summary
    poolSizeEl.textContent = out.pool;
    formulaEl.textContent = 'Permutations = ' + out.pool + ' ^ ' + out.len + '  (log10 ≈ ' + out.log10Perm.toFixed(3) + ')';
    entropyEl.textContent = 'Entropy = ' + out.entropy.toFixed(2) + ' bits';

    // Results grid
    resultsEl.innerHTML = '';
    out.results.forEach(function(r){
      const div = document.createElement('div');
      div.className = 'badge';

      const permLine = document.createElement('div');
      permLine.className = 'small';
      permLine.textContent = r.label;

      const timeLine = document.createElement('div');
      timeLine.style.marginTop = '6px';
      timeLine.className = 'mono';

      if (r.timeSeconds !== null){
        timeLine.textContent = secondsToReadable(r.timeSeconds);
      } else {
        // scientific fallback: r.log10TimeSec is log10(seconds)
        timeLine.textContent = formatScientific10(r.log10TimeSec) + ' seconds';
      }

      const yearsLog10 = r.log10TimeSec - Math.log10(365 * 24 * 3600);
      let yearsDisplay;
      if (yearsLog10 < 15){
        const yrs = (r.timeSeconds !== null) ? (r.timeSeconds / (365 * 24 * 3600)) : Math.pow(10, yearsLog10);
        yearsDisplay = (yrs < 1e6) ? yrs.toLocaleString(undefined, { maximumFractionDigits: 1 }) + ' years' : formatScientific10(Math.log10(yrs)) + ' years';
      } else {
        yearsDisplay = formatScientific10(yearsLog10) + ' years';
      }

      const info = document.createElement('div');
      info.className = 'small';
      info.style.marginTop = '6px';
      info.textContent = 'Average guesses (0.5*total): log10 ≈ ' + r.log10Avg.toFixed(3) + '; years ≈ ' + yearsDisplay;

      div.appendChild(permLine);
      div.appendChild(timeLine);
      div.appendChild(info);
      resultsEl.appendChild(div);
    });
  }

  /* =========================
     UI wiring
     ========================= */
  const input = document.getElementById('pwdInput');
  const btn = document.getElementById('calcBtn');

  // Click and Enter handlers
  btn.addEventListener('click', function(){
    render(input.value || '');
  });

  input.addEventListener('keydown', function(e){
    if (e.key === 'Enter') {
      render(input.value || '');
    }
  });

  // Prefill example and render
  input.value = 'correct-horse-battery-staple';
  render(input.value);

  /* =========================
     Cursor-following warm red gradient
     (smooth follow using lerp & rAF)
     ========================= */
  (function(){
    const glow = document.querySelector('.cursor-glow');
    if (!glow) return;

    // target mouse position in viewport percent
    const target = { x: 50, y: 50 };
    // current position used to render (lerped towards target)
    const current = { x: 50, y: 50 };
    // smoothing factor [0..1] — bigger is snappier, smaller is smoother
    const SMOOTH = 0.16;

    // update target on pointer move (works for mouse or touch)
    function onPointerMove(e){
      let clientX = 0;
      let clientY = 0;
      if (e.touches && e.touches.length){
        clientX = e.touches[0].clientX;
        clientY = e.touches[0].clientY;
      } else {
        clientX = e.clientX;
        clientY = e.clientY;
      }
      // convert to percent to be robust to resize
      const pctX = (clientX / window.innerWidth) * 100;
      const pctY = (clientY / window.innerHeight) * 100;
      target.x = pctX;
      target.y = pctY;
      // ensure glow visible when pointer present
      glow.style.opacity = '1';
    }

    // hide glow if pointer leaves window (soft fade)
    function onPointerLeave(){
      glow.style.opacity = '0';
    }

    // linear interpolation helper
    function lerp(a, b, t){
      return a + (b - a) * t;
    }

    // the animation loop updates CSS variables smoothly
    function animate(){
      current.x = lerp(current.x, target.x, SMOOTH);
      current.y = lerp(current.y, target.y, SMOOTH);
      // set CSS vars as percentages
      glow.style.setProperty('--mx', current.x + '%');
      glow.style.setProperty('--my', current.y + '%');
      // schedule next frame
      requestAnimationFrame(animate);
    }

    // event listeners (pointermove covers mouse & touch)
    window.addEventListener('pointermove', onPointerMove, { passive: true });
    window.addEventListener('pointerleave', onPointerLeave, { passive: true });
    window.addEventListener('blur', onPointerLeave, { passive: true });

    // start animation
    requestAnimationFrame(animate);
  })();

  /* Expose small API for potential debugging without interfering */
  window.PasswordEstimator = {
    estimate: estimate,
    render: render
  };

})(); 
(function(){
  const bubble = document.getElementById('bubbleCursor');
  if (!bubble) return;

  window.addEventListener('pointermove', (e) => {
    bubble.style.left = `${e.clientX}px`;
    bubble.style.top = `${e.clientY}px`;
  });
})();


// end IIFE
</script>
</body>
</html>
